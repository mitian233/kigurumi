---

---
<div class="wrapper">
    <span class="text"></span>
    <div class="cursor"></div>
</div>

<style>
    @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&family=Signika+Negative:wght@300..700&display=swap');

    body {
        font-family: "Signika Negative", "M PLUS Rounded 1c", sans-serif;
        font-weight: 300;
        margin: 0;
        padding: 0 20px;
    }
    .wrapper {
        text-align:left;
    }
    .cursor {
        background-color: black;
        width: 1em;
        height: 2em;
        display: inline-block;
        margin: 0em 0em -0.3em 0em;
    }
    .text {
        font-size: 2em;
        position: relative;
    }

</style>

<script>
    import gsap from "gsap";
    import { TextPlugin } from "gsap/TextPlugin";
    gsap.registerPlugin(TextPlugin);
    let cursor = gsap
        .to(".cursor", {
            opacity: 0,
            ease: "power2.inOut",
            repeat: -1,
        })
        .pause(1);

    let text = gsap
        .timeline({ autoRemoveChildren: true, repeat: -1 })
        .pause();
    text.add(
        gsap
            .timeline({ repeat: 1, yoyo: true, repeatDelay: 1 })
            .to(".text", {
                duration: 2,
                text: '着ぐるみバンドリ！',
                onComplete: () => {
                    if (text.getChildren().length === 2) {
                        cursor.pause(1);
                        text.pause();
                    }
                },
            })
    );
    text.add(
        gsap
            .timeline({ repeat: 1, yoyo: true, repeatDelay: 1 })
            .to(".text", {
                duration: 2,
                text: 'Work in progress...',
                onComplete: () => {
                    if (text.getChildren().length === 2) {
                        cursor.pause(1);
                        text.pause();
                    }
                },
            })
    );
    cursor.play();
    text.play();
    // function updateText(inputText) {
    //     if (cursor.paused()) {
    //         cursor.play();
    //     }
    //     if (text.paused()) {
    //         text.play();
    //     }
    //     text.add(
    //         gsap
    //             .timeline({ repeat: 1, yoyo: true, repeatDelay: 1 })
    //             .to(".text", {
    //                 duration: 2,
    //                 text: inputText,
    //                 onComplete: () => {
    //                     if (text.getChildren().length === 2) {
    //                         cursor.pause(1);
    //                         text.pause();
    //                     }
    //                 },
    //             })
    //     );
    // };
    // for(let i=0;i<10;i++) {
    //     updateText('RANDOM TEXT - ' + i);
    // }
    // updateText('着ぐるみバンドリ！');
    // updateText('Work in progress...');
</script>
